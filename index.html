<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music App - Music Streaming</title>
    <meta name="description" content="A modern music streaming web application with playlist management, search, and free music playback.">
    <meta name="theme-color" content="#1db954">
    <link rel="icon" href="assets/icons/music.png" type="image/png">
    <!-- <link rel="manifest" href="manifest.json"> -->
    <link rel="stylesheet" href="styles.css?v=2">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Main Container -->
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-music"></i>
                    <span>Music App</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <ul class="nav-list">
                    <li class="nav-item active">
                        <a href="#" data-page="home">
                            <i class="fas fa-home"></i>
                            <span>Home</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" data-page="search">
                            <i class="fas fa-search"></i>
                            <span>Search</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="#" data-page="library">
                            <i class="fas fa-book"></i>
                            <span>Your Library</span>
                        </a>
                    </li>
                </ul>
                
                <div class="playlist-section">
                    <div class="playlist-header">
                        <h3>Playlists</h3>
                        <button class="create-playlist-btn" id="createPlaylistBtn">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <ul class="playlist-list" id="playlistList">
                        <!-- Playlists will be dynamically added here -->
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Navigation -->
            <header class="top-nav">
                <div class="nav-buttons">
                    <button class="nav-btn" id="backBtn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="nav-btn" id="forwardBtn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <div class="search-container" id="searchContainer">
                    <input type="text" placeholder="Search for songs, artists, or albums..." id="searchInput">
                    <button class="search-btn" id="searchBtn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                
                <div class="user-profile">
                    <div class="user-menu" id="userMenu">
                        <!-- Logged out state -->
                        <div class="auth-buttons" id="authButtons">
                            <button class="btn-secondary" id="signInBtn">Sign In</button>
                            <button class="btn-primary" id="signUpBtn">Sign Up</button>
                        </div>
                        
                        <!-- Logged in state -->
                        <div class="user-info hidden" id="userInfo">
                            <div class="profile-avatar" id="profileAvatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="user-dropdown">
                                <span class="username" id="username">User</span>
                                <div class="dropdown-menu" id="dropdownMenu">
                                    <div class="dropdown-item" id="profileBtn">
                                        <i class="fas fa-user"></i>
                                        <span>Profile</span>
                                    </div>
                                    <div class="dropdown-item" id="settingsBtn">
                                        <i class="fas fa-cog"></i>
                                        <span>Settings</span>
                                    </div>
                                    <hr class="dropdown-divider">
                                    <div class="dropdown-item" id="signOutBtn">
                                        <i class="fas fa-sign-out-alt"></i>
                                        <span>Sign Out</span>
                                    </div>
                                </div>
                            </div>
                            <!-- Direct Sign Out Button (backup) -->
                            <button class="btn-secondary" id="directSignOutBtn" style="margin-left: 10px;">
                                <i class="fas fa-sign-out-alt"></i> Sign Out
                            </button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content Area -->
            <div class="content-area" id="contentArea">
                <!-- Home Page Content -->
                <div class="page-content" id="homePage">
                    <section class="featured-section">
                        <h2>Featured Playlists</h2>
                        <div class="content-grid" id="featuredGrid">
                            <!-- Featured content will be loaded here -->
                        </div>
                    </section>
                    
                    <section class="trending-section">
                        <h2>Trending Now</h2>
                        <div class="content-grid" id="trendingGrid">
                            <!-- Trending content will be loaded here -->
                        </div>
                    </section>
                    
                    <section class="recommendations-section">
                        <h2>Recommended for You</h2>
                        <div class="content-grid" id="recommendationsGrid">
                            <!-- Recommendations will be loaded here -->
                        </div>
                    </section>
                </div>

                <!-- Search Page Content -->
                <div class="page-content hidden" id="searchPage">
                    <div class="search-results">
                        <div class="results-section">
                            <h2>Search Results</h2>
                            <div class="search-filters">
                                <button class="filter-btn active" data-filter="all">All</button>
                                <button class="filter-btn" data-filter="tracks">Songs</button>
                                <button class="filter-btn" data-filter="artists">Artists</button>
                                <button class="filter-btn" data-filter="albums">Albums</button>
                            </div>
                            <div class="search-results-grid" id="searchResultsGrid">
                                <!-- Search results will be displayed here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Library Page Content -->
                <div class="page-content hidden" id="libraryPage">
                    <div class="library-content">
                        <h2>Your Music Library</h2>
                        <div class="library-tabs">
                            <button class="tab-btn active" data-tab="playlists">Playlists</button>
                            <button class="tab-btn" data-tab="favorites">Favorites</button>
                        </div>
                        <div class="library-grid" id="libraryGrid">
                            <!-- Library content will be displayed here -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Music Player -->
    <div class="music-player" id="musicPlayer">
        <div class="player-track-info">
            <img src="assets/icons/vinyl.png" alt="Album Art" class="track-image" id="trackImage">
            <div class="track-details">
                <span class="track-title" id="trackTitle">Select a song</span>
                <span class="track-artist" id="trackArtist">No artist</span>
            </div>
            <button class="favorite-btn" id="favoriteBtn">
                <i class="far fa-heart"></i>
            </button>
        </div>

        <div class="player-controls">
            <div class="control-buttons">
                <button class="control-btn" id="shuffleBtn">
                    <i class="fas fa-random"></i>
                </button>
                <button class="control-btn" id="prevBtn">
                    <i class="fas fa-step-backward"></i>
                </button>
                <button class="control-btn play-btn" id="playBtn">
                    <i class="fas fa-play"></i>
                </button>
                <button class="control-btn" id="nextBtn">
                    <i class="fas fa-step-forward"></i>
                </button>
                <button class="control-btn" id="repeatBtn">
                    <i class="fas fa-redo"></i>
                </button>
            </div>
            
            <div class="progress-container">
                <span class="time-current" id="currentTime">0:00</span>
                <div class="progress-bar" id="progressBar">
                    <div class="progress-fill" id="progressFill"></div>
                    <div class="progress-handle" id="progressHandle"></div>
                </div>
                <span class="time-duration" id="duration">0:00</span>
            </div>
        </div>

        <div class="player-volume">
            <button class="control-btn" id="lyricsBtn">
                <i class="fas fa-microphone-alt"></i>
            </button>
            <button class="control-btn" id="vinylModeBtn" title="Toggle Vinyl Mode">
                <i class="fas fa-record-vinyl"></i>
            </button>
            <button class="control-btn" id="volumeBtn">
                <i class="fas fa-volume-up"></i>
            </button>
            <div class="volume-slider">
                <input type="range" min="0" max="100" value="50" id="volumeSlider">
            </div>
        </div>
    </div>

    <!-- Vinyl Record Player -->
    <div class="vinyl-player hidden" id="vinylPlayer">
        <button class="vinyl-close-btn" onclick="musicApp.toggleVinylMode()">
            <i class="fas fa-times"></i>
        </button>
        <div class="vinyl-container">
            <div class="vinyl-record" id="vinylRecord">
                <div class="vinyl-grooves"></div>
                <div class="vinyl-label">
                    <img src="assets/icons/vinyl.png" alt="Album Art" class="vinyl-album-art" id="vinylAlbumArt">
                    <div class="vinyl-center-hole"></div>
                </div>
            </div>
            <div class="tonearm" id="tonearm">
                <div class="tonearm-base"></div>
                <div class="tonearm-arm"></div>
                <div class="tonearm-head"></div>
            </div>
        </div>
        <div class="vinyl-info">
            <h3 class="vinyl-track-title" id="vinylTrackTitle">Select a song</h3>
            <p class="vinyl-track-artist" id="vinylTrackArtist">No artist</p>
        </div>
    </div>

    <!-- Modals -->
    <!-- Sign In Modal -->
    <div class="modal-overlay hidden" id="signInModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Sign In to Music App</h3>
                <button class="close-btn" data-modal="signInModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Social Sign In Options -->
                <div class="social-auth">
                    <button class="social-btn google-btn" id="signInWithGoogle">
                        <i class="fab fa-google"></i>
                        <span>Continue with Google</span>
                    </button>
                    <button class="social-btn facebook-btn" id="signInWithFacebook">
                        <i class="fab fa-facebook-f"></i>
                        <span>Continue with Facebook</span>
                    </button>
                    <button class="social-btn apple-btn" id="signInWithApple">
                        <i class="fab fa-apple"></i>
                        <span>Continue with Apple</span>
                    </button>
                </div>

                <div class="auth-divider">
                    <span>or</span>
                </div>

                <form id="signInForm" class="auth-form">
                    <div class="form-group">
                        <label for="signInEmail">Email</label>
                        <input type="email" id="signInEmail" placeholder="Enter your email" required>
                        <div class="error-message" id="signInEmailError"></div>
                    </div>
                    <div class="form-group">
                        <label for="signInPassword">Password</label>
                        <div class="password-input">
                            <input type="password" id="signInPassword" placeholder="Enter your password" required>
                            <button type="button" class="password-toggle" id="signInPasswordToggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="error-message" id="signInPasswordError"></div>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="rememberMe">
                            <span class="checkmark"></span>
                            Remember me
                        </label>
                    </div>
                    <button type="submit" class="btn-primary full-width" id="signInSubmitBtn">
                        <span class="btn-text">Sign In</span>
                        <span class="btn-loading hidden">
                            <i class="fas fa-spinner fa-spin"></i>
                            Signing in...
                        </span>
                    </button>
                    <div class="form-footer">
                        <a href="#" id="forgotPasswordLink">Forgot your password?</a>
                        <p>Don't have an account? <a href="#" id="switchToSignUp">Sign up for free</a></p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div class="modal-overlay hidden" id="signUpModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Join Music App</h3>
                <button class="close-btn" data-modal="signUpModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Social Sign Up Options -->
                <div class="social-auth">
                    <button class="social-btn google-btn" id="signUpWithGoogle">
                        <i class="fab fa-google"></i>
                        <span>Sign up with Google</span>
                    </button>
                    <button class="social-btn facebook-btn" id="signUpWithFacebook">
                        <i class="fab fa-facebook-f"></i>
                        <span>Sign up with Facebook</span>
                    </button>
                    <button class="social-btn apple-btn" id="signUpWithApple">
                        <i class="fab fa-apple"></i>
                        <span>Sign up with Apple</span>
                    </button>
                </div>

                <div class="auth-divider">
                    <span>or</span>
                </div>

                <form id="signUpForm" class="auth-form">
                    <div class="form-group">
                        <label for="signUpName">Full Name</label>
                        <input type="text" id="signUpName" placeholder="Enter your full name" required>
                        <div class="error-message" id="signUpNameError"></div>
                    </div>
                    <div class="form-group">
                        <label for="signUpEmail">Email</label>
                        <input type="email" id="signUpEmail" placeholder="Enter your email" required>
                        <div class="error-message" id="signUpEmailError"></div>
                        <div class="success-message hidden" id="signUpEmailSuccess">
                            <i class="fas fa-check"></i> Email is available
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="signUpPassword">Password</label>
                        <div class="password-input">
                            <input type="password" id="signUpPassword" placeholder="Create a password" required>
                            <button type="button" class="password-toggle" id="signUpPasswordToggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="password-strength" id="passwordStrength">
                            <div class="strength-bar">
                                <div class="strength-fill"></div>
                            </div>
                            <div class="strength-text">Password strength</div>
                        </div>
                        <div class="password-requirements" id="passwordRequirements">
                            <div class="requirement" id="lengthReq">
                                <i class="fas fa-times"></i> At least 8 characters
                            </div>
                            <div class="requirement" id="upperReq">
                                <i class="fas fa-times"></i> One uppercase letter
                            </div>
                            <div class="requirement" id="lowerReq">
                                <i class="fas fa-times"></i> One lowercase letter
                            </div>
                            <div class="requirement" id="numberReq">
                                <i class="fas fa-times"></i> One number
                            </div>
                        </div>
                        <div class="error-message" id="signUpPasswordError"></div>
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password</label>
                        <div class="password-input">
                            <input type="password" id="confirmPassword" placeholder="Confirm your password" required>
                            <button type="button" class="password-toggle" id="confirmPasswordToggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="error-message" id="confirmPasswordError"></div>
                        <div class="success-message hidden" id="confirmPasswordSuccess">
                            <i class="fas fa-check"></i> Passwords match
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="agreeTerms" required>
                            <span class="checkmark"></span>
                            I agree to the <a href="#" id="termsLink">Terms of Service</a> and <a href="#" id="privacyLink">Privacy Policy</a>
                        </label>
                        <div class="error-message" id="termsError"></div>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="emailUpdates">
                            <span class="checkmark"></span>
                            I want to receive email updates about new features and music
                        </label>
                    </div>
                    <button type="submit" class="btn-primary full-width" id="signUpSubmitBtn">
                        <span class="btn-text">Create Account</span>
                        <span class="btn-loading hidden">
                            <i class="fas fa-spinner fa-spin"></i>
                            Creating account...
                        </span>
                    </button>
                    <div class="form-footer">
                        <p>Already have an account? <a href="#" id="switchToSignIn">Sign in here</a></p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div class="modal-overlay hidden" id="forgotPasswordModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Reset Password</h3>
                <button class="close-btn" data-modal="forgotPasswordModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="forgot-password-content">
                    <p class="forgot-description">Enter your email address and we'll send you instructions to reset your password.</p>
                    <form id="forgotPasswordForm" class="auth-form">
                        <div class="form-group">
                            <label for="forgotEmail">Email</label>
                            <input type="email" id="forgotEmail" placeholder="Enter your email" required>
                            <div class="error-message" id="forgotEmailError"></div>
                        </div>
                        <button type="submit" class="btn-primary full-width" id="forgotPasswordSubmitBtn">
                            <span class="btn-text">Send Reset Link</span>
                            <span class="btn-loading hidden">
                                <i class="fas fa-spinner fa-spin"></i>
                                Sending...
                            </span>
                        </button>
                        <div class="form-footer">
                            <p>Remember your password? <a href="#" id="backToSignIn">Sign in here</a></p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="modal-overlay hidden" id="profileModal">
        <div class="modal">
            <div class="modal-header">
                <h3>User Profile</h3>
                <button class="close-btn" data-modal="profileModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="profile-content">
                    <div class="profile-avatar-large">
                        <i class="fas fa-user"></i>
                        <button class="change-avatar-btn">Change Photo</button>
                    </div>
                    <form id="profileForm" class="profile-form">
                        <div class="form-group">
                            <label for="profileName">Full Name</label>
                            <input type="text" id="profileName" placeholder="Enter your name">
                        </div>
                        <div class="form-group">
                            <label for="profileEmail">Email</label>
                            <input type="email" id="profileEmail" placeholder="Enter your email" readonly>
                        </div>
                        <div class="form-group">
                            <label for="profileBio">Bio</label>
                            <textarea id="profileBio" placeholder="Tell us about yourself" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="profileLocation">Location</label>
                            <input type="text" id="profileLocation" placeholder="Your city, country">
                        </div>
                        <button type="submit" class="btn-primary">Save Changes</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Playlist Modal -->
    <div class="modal-overlay hidden" id="createPlaylistModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Create Playlist</h3>
                <button class="close-btn" data-modal="createPlaylistModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <input type="text" placeholder="Enter playlist name..." id="playlistNameInput">
                <button class="btn-primary" id="confirmCreatePlaylist">Create Playlist</button>
            </div>
        </div>
    </div>

    <!-- Lyrics Modal -->
    <div class="modal-overlay hidden" id="lyricsModal">
        <div class="modal lyrics-modal">
            <div class="modal-header">
                <h3>Lyrics</h3>
                <button class="close-btn" data-modal="lyricsModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="lyrics-content" id="lyricsContent">
                    <p>No lyrics available for this song.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio Element -->
    <audio id="audioPlayer"></audio>

    <!-- JavaScript -->
    <script src="app.js?v=3"></script>
</body>
</html>
